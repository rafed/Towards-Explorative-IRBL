bug_id,bug_report_analysis,suspicious_files,fixed_files
mwaskom__seaborn-3190,"The bug report indicates a failure in color mapping with boolean data when invoking the `Plot` method from the Seaborn library. The traceback highlights a `TypeError`, specifically when handling operations related to boolean data types in the `_setup` method, which is responsible for setting up scales for the plot. The method attempts to perform a subtraction between transformed boolean values, leading to this error. Relevant keywords extracted from the bug include 'color mapping', 'boolean data', 'TypeError', and specific method calls like '_setup_scales' and '_plot'.","{""ranked_list"": [{""file"": ""seaborn/_core/plot.py"", ""justification"": ""This file contains the _plot and _setup_scales methods utilized in generating the plot. It is central to the plotting mechanism and directly implicated in the bug's traceback.""}, {""file"": ""seaborn/_core/scales.py"", ""justification"": ""The _setup method found in this file handles the scaling logic, which is where the TypeError occurs due to attempts at subtracting boolean transformations. This makes it highly relevant as the source of the error.""}, {""file"": ""seaborn/_marks/bar.py"", ""justification"": ""The _plot method here likely interacts with plotting procedures that may utilize color mapping, and since the bug affects color representation, this file is relevant.""}, {""file"": ""seaborn/_marks/dot.py"", ""justification"": ""This file's _plot method could also pertain to handling graphical representations that may encounter similar color mapping situations as described in the bug report.""}, {""file"": ""seaborn/_marks/line.py"", ""justification"": ""Similar to bar and dot plots, the line plot implementation is critical for plot rendering. It potentially shares color mapping behavior that contributes to the observed bug.""}, {""file"": ""seaborn/_marks/area.py"", ""justification"": ""The area plot implementation might be involved in color-related functionalities that could trigger the bug reported, especially considering how scales are handled.""}, {""file"": ""seaborn/_marks/text.py"", ""justification"": ""Even though primarily for text objects, the text plot could be indirectly affected by the same color mapping mechanisms, inclusive of boolean values.""}, {""file"": ""seaborn/_marks/base.py"", ""justification"": ""As the base class for various plot marks, it could feature shared functionalities that relate to the bug on color mapping.""}, {""file"": ""seaborn/categorical.py"", ""justification"": ""Could relate indirectly to categorical handling in color mapping, useful in the context of boolean data visualization.""}, {""file"": ""seaborn/relational.py"", ""justification"": ""May involve relational plots that also handle color differentiation, possibly linked to the observed error.""}]}",['seaborn/_core/scales.py']
mwaskom__seaborn-3010,"The bug report indicates that the PolyFit method is not capable of handling missing data (represented as None) in the input data arrays. This leads to a `LinAlgError` being raised during a linear regression operation (number of unique x values is less than the order of the polynomial fit). Keywords extracted include: 'PolyFit', 'missing data', 'robust', and 'LinAlgError'. Affected components likely relate to data handling in statistics or regression methods, particularly in the context of plotting and fitting models. The traceback documents the error propagation path, mainly focused within the Plot and regression functionalities.","{""ranked_list"": [{""file"": ""seaborn/_stats/regression.py"", ""justification"": ""The '_fit_predict' method directly uses 'np.polyfit', which is critical for performing polynomial fits and is relevant to the bug. The presence of 'SVD did not converge' in the traceback suggests potential handling issues within this method, especially when fitting with missing data.""}, {""file"": ""seaborn/regression.py"", ""justification"": ""This file contains methods related to fitting regression models, including 'fit_poly', which directly uses polynomial fitting functions. The method 'fit_regression' might also involve handling scenarios similar to those described in the bug.""}, {""file"": ""seaborn/_core/plot.py"", ""justification"": ""The '_compute_stats' method is involved in the plotting statistics and likely orchestrates fitting methods that include the 'PolyFit'. It should also handle various input conditions and might process 'None' values.""}, {""file"": ""seaborn/_core/groupby.py"", ""justification"": ""The 'apply' method here handles groupby operations, which are crucial in determining how data is subdivided before fitting models. It could interact with missing data in a way that affects regression results.""}, {""file"": ""seaborn/utils.py"", ""justification"": ""This file contains general utility functions that might include methods for handling missing data scenarios across different statistical methods.""}, {""file"": ""seaborn/utils.py"", ""justification"": ""While not directly related to regression, it likely provides utility functions that may assist in checking or validating input data prior to regression computations.""}, {""file"": ""seaborn/_stats/histogram.py"", ""justification"": ""This file deals with statistical visualizations. If graphs drawn rely on missing data handling, it might be indirectly related to the robustness of PolyFit.""}, {""file"": ""seaborn/_core/data.py"", ""justification"": ""Typically deals with the data structures passed to plots and could be relevant in the context of missing data.""}, {""file"": ""seaborn/external/kde.py"", ""justification"": ""Kernel Density Estimation may include handling of missing data but less relevant compared to other regression-related files.""}]}",['seaborn/_stats/regression.py']
mwaskom__seaborn-2848,"The bug report indicates that the `pairplot` function in Seaborn version 0.11.1 fails when a `hue_order` list does not contain all the hue values available in the data, producing a `TypeError` related to the handling of input types. The essential context surrounds the plotting behavior of data subsets in `pairplot`, specifically the usage of the `hue` variable and `hue_order`, as well as the resulting 'isnan' exception which suggests a problem in handling NaN or unexpected data types during plotting. The components most likely affected include the `_core.py` file and other related plotting files.","{""ranked_list"": [{""file"": ""seaborn/axisgrid.py"", ""justification"": ""Contains the `pairplot` method that directly relates to the bug report. The method body shows its reliance on the `hue` parameter and the `hue_order`. Given the TypeError noted in the bug report, this file is highly relevant because it includes the logic for handling hue values during plotting. Relevant parameters include `hue` and `hue_order`.""}, {""file"": ""seaborn/categorical.py"", ""justification"": ""This file includes multiple methods related to hue processing and aesthetics. The method `establish_colors` closely aligns with handling color aesthetics based on hue, and the method `draw_points` involves how data points are displayed in plots. Since color interpretation can contribute to the plotting failure, this file is significant.""}, {""file"": ""seaborn/_core/plot.py"", ""justification"": ""As this file is likely involved in general plotting implementations, it may link together various plotting functions such as in `pairplot` and other related methods; understanding this core module may surface issues related to improper handling of parameters.""}, {""file"": ""seaborn/distributions.py"", ""justification"": ""Likely contains plotting functions that could interact with how data is visualized in `pairplot`, particularly with regards to univariate distributions (a key part of `pairplot` functionality) which is mentioned in the bug report.""}, {""file"": ""seaborn/relational.py"", ""justification"": ""Engaged in plotting relationships between variables, which could give insights into failures stemming from how multiple hue levels are managed during plotting.""}, {""file"": ""seaborn/utils.py"", ""justification"": ""May contain utility functions that are used within pairplot and related plotting functions. If there are helper methods for hue handling, this file could be relevant.""}, {""file"": ""seaborn/_core/scales.py"", ""justification"": ""Concerns scaling for plots and may play a role in the interpretation of hue values, which is central to the error described in the bug report.""}, {""file"": ""seaborn/_core/data.py"", ""justification"": ""File that might help facilitate data handling, conversion and manipulation relevant to how data is fed into visualizations, including hue values.""}, {""file"": ""seaborn/miscplot.py"", ""justification"": ""Since `pairplot` deals with multiple kinds of plots, misc plotting functions could play a role in handling edge cases that may arise in plotting using hue.""}, {""file"": ""seaborn/palettes.py"", ""justification"": ""Colors and palettes could impact how hues are applied. If there are issues with hue interpretation related to their assignment, this file may hold critical function.""}]}",['seaborn/_oldcore.py']
mwaskom__seaborn-3407,"The bug report highlights an issue where calling the `pairplot` function from Seaborn with a MultiIndex DataFrame results in a KeyError. The example provided shows that when the MultiIndex DataFrame is created and passed to `sns.pairplot()`, it triggers the error trace that primarily lies within `seaborn/axisgrid.py`, specifically in lines where column access is performed, which suggests that `pairplot` struggles to handle the indexing of the MultiIndex structure correctly. The workaround mentioned is a flattening of the DataFrame's columns, indicating that the current implementation fails to deal with multi-level indexes correctly. Relevant keywords extracted: ""KeyError"", ""MultiIndex"", ""pairplot"", and critical components originating from Seaborn and Pandas libraries involved with plotting and manipulation of data frames.","{""ranked_list"": [{""file"": ""seaborn/axisgrid.py"", ""justification"": ""The `pairplot` method is directly defined here and is the function where the bug originates. The analysis of its implementation indicates that the function is indeed responsible for plotting pairwise relationships and handling data input\u2014all of which are relevant to the KeyError encountered with MultiIndex.""}, {""file"": ""seaborn/_core/plot.py"", ""justification"": ""Contains the `pair` method that may influence the behavior of the `pairplot` function, especially regarding the pairing of variables for plotting, which is crucial when handling any DataFrame input.""}, {""file"": ""seaborn/_core/data.py"", ""justification"": ""This file must manage the data input and structure; thus, it could play a role in how the MultiIndex DataFrame is processed before being passed to plot functions.""}, {""file"": ""seaborn/relational.py"", ""justification"": ""Although primarily related to relational plots, it may contain relevant functions that back the relationship management within Seaborn plotting, indirectly affecting `pairplot` and its data handling.""}, {""file"": ""seaborn/_core/scales.py"", ""justification"": ""Responsible for scale transformations, it might impact how plotting functions interpret the MultiIndex, potentially leading to the KeyError issue.""}, {""file"": ""seaborn/_core/exceptions.py"", ""justification"": ""May provide error handling that directly relates to problems encountered when visualizing data, including the KeyErrors that arise with complex DataFrames.""}, {""file"": ""seaborn/_core/moves.py"", ""justification"": ""Could potentially contain helper functions influencing various operations across Seaborn plots, making it worth analyzing in the context of data representation.""}, {""file"": ""seaborn/_core/properties.py"", ""justification"": ""While focusing on properties aspects, this file stabilizes plot property definitions which could potentially be misconfigured when handling MultiIndex sets.""}, {""file"": ""seaborn/_oldcore.py"", ""justification"": ""Contains legacy code which might still interact with current functionalities, worth reviewing for any historical context that could still apply to how `pairplot` expects data.""}, {""file"": ""seaborn/_stats/base.py"", ""justification"": ""Statistical computations might interact with data structure handling, thus affecting how data is visualized in context to the KeyError with a MultiIndex.""}]}",['seaborn/axisgrid.py']
