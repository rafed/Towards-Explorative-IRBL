bug_id,bug_report_analysis,suspicious_files,fixed_files
astropy__astropy-14182,"The bug report requests the ability to support header rows in the RestructuredText (RST) output format of the `QTable` write functionality in the Astropy library. The key functionality referenced is the 'header_rows' argument when using `tbl.write()`, which causes an error indicating that the `RST.__init__()` function doesn't accept 'header_rows' as a valid argument. This suggests there's a mismatch between the expected parameters for the RST writer and those actually implemented, which may lead us to functions dealing with the RST format as well as functionality for connecting the write method across different formats.","{""ranked_list"": [{""file"": ""astropy/io/ascii/rst.py"", ""justification"": ""Contains the 'RST' writer implementation, crucial for understanding how the write function operates with RST and where 'header_rows' might incorrectly be handled.""}, {""file"": ""astropy/io/ascii/connect.py"", ""justification"": ""Manages connections between different output formats and likely has the logic that invokes or wraps around the RST writer. The 'io_write' method could provide insight into error handling for unsupported parameters.""}, {""file"": ""astropy/io/ascii/ui.py"", ""justification"": ""The 'write' method here interfaces with different Table classes and manages validations along with output options. This file is central to processing write requests which include header parameters.""}, {""file"": ""astropy/io/ascii/core.py"", ""justification"": ""Holds basic functionality for writing ASCII tables. Understanding the foundational write process is essential for diagnosing issues that might cascade into the RST output.""}, {""file"": ""astropy/io/ascii/fixedwidth.py"", ""justification"": ""While primarily dealing with fixed width, it also has a constructor similar to RST where 'header_rows' could be invoked. Any insights here may inform the RST adjustment.""}, {""file"": ""astropy/table/table.py"", ""justification"": ""Central to managing data within `QTable`, understanding how it constructs tables and initializes parameters will provide essential context for the write operations.""}]}",['astropy/io/ascii/rst.py']
astropy__astropy-14365,"The bug report indicates that the `ascii.qdp` format assumes QDP commands must be upper case, specifically noting that commands like 'READ SERR 1 2' are treated differently than their lowercase counterparts. The expectation that commands must be in uppercase is inappropriate as QDP itself is case insensitive, which leads to errors during parsing. The report suggests that a QDP file with the command 'read serr 1 2' should read without crashing, whereas the current implementation raises a ValueError for unrecognized lines. The goal is to identify files related to the QDP format and how it handles command parsing, specifically focusing on the handling of command cases in the method implementations.","{""ranked_list"": [{""file"": ""astropy/io/ascii/qdp.py"", ""justification"": ""Directly relevant file that handles the QDP format. The methods like '_read_table_qdp' and '_interpret_err_lines' are critical as they involve interpreting input commands and error specifications. Their analysis could reveal why the case sensitivity is enforced.""}, {""file"": ""astropy/io/ascii/core.py"", ""justification"": ""This file's read method and process_lines are key as they deal with how tables are read and how lines of input are processed, which would be essential for understanding command parsing.""}, {""file"": ""astropy/io/ascii/basic.py"", ""justification"": ""Relevant due to the read and process_lines methods which handle input processing and command handling, contributing to understanding the bug in the context of reading QDP formats.""}, {""file"": ""astropy/io/ascii/ui.py"", ""justification"": ""The UI handling of command input may influence how commands are read and understood, providing context to user-facing implementations.""}, {""file"": ""astropy/table/table.py"", ""justification"": ""Might interact with the ASCII table read methods and could contain relevant features for how input/output processing is handled.""}, {""file"": ""astropy/table/pprint.py"", ""justification"": ""This could relate to how tables are presented or printed as part of QDP output, touching on post-processing steps that might lead to issues.""}, {""file"": ""astropy/table/scripts/showtable.py"", ""justification"": ""Any script-based handlers or command implementations that suggest how tables or commands should be processed would be helpful in understanding the standards being applied.""}]}",['astropy/io/ascii/qdp.py']
astropy__astropy-12907,"The bug report highlights an issue with the function `separability_matrix` from the `astropy.modeling` package, specifically concerning its behavior when applied to nested `CompoundModel` instances. The provided examples illustrate that for complex models, the expected separability is not achieved when they are nested, indicating a potential logic flaw in the function. Key terms extracted from the report include 'separability_matrix', 'CompoundModels', and 'inputs and outputs'. The affected components include the `separable.py` and `core.py` files since `separability_matrix` is defined in `separable.py` and it likely interfaces with classes defined in `core.py`.","{""ranked_list"": [{""file"": ""astropy/modeling/separable.py"", ""justification"": ""This file contains the `separability_matrix` function and directly implements the logic for computing the separability between inputs and outputs, making it the primary candidate for the bug.""}, {""file"": ""astropy/modeling/core.py"", ""justification"": ""This file includes the core model definitions and methods that might interface with `separability_matrix`, particularly the `_calculate_separability_matrix` method.""}, {""file"": ""astropy/io/misc/asdf/tags/transform/compound.py"", ""justification"": ""The report concerns nested CompoundModels, so this file might contain relevant functionality for handling compound transformations, which could impact the behavior of the separability matrix.""}, {""file"": ""astropy/modeling/functional_models.py"", ""justification"": ""Functional models may interact with the compound models used in `separability_matrix`, making this file relevant for understanding potential interactions.""}, {""file"": ""astropy/modeling/projections.py"", ""justification"": ""Projections can be an aspect of the models, and might influence the behavior of the `separability_matrix`, especially with more complex nested structures.""}, {""file"": ""astropy/modeling/physical_models.py"", ""justification"": ""Physical models might be included in the compound models, making this file pertinent to the behavior seen in the bug report.""}, {""file"": ""astropy/modeling/mappings.py"", ""justification"": ""Mappings could be used in conjunction with compound models, affecting the expected separability matrix.""}, {""file"": ""astropy/modeling/statistic.py"", ""justification"": ""Statistics related methods may apply transformations to the model outputs, thus influencing the separability as described.""}, {""file"": ""astropy/modeling/fitting.py"", ""justification"": ""Fit operations could potentially override or interact with the model behavior signified in `separability_matrix`, influencing outcomes in unexpected ways.""}]}",['astropy/modeling/separable.py']
astropy__astropy-14995,"The bug report indicates an issue with NDDataRef mask propagation in version 5.3 of the Astropy library when performing arithmetic operations using the `multiply` method with certain handling of masks. It specifically mentions that when one of the operands does not have a mask (set as None), it leads to a TypeError when trying to apply the bitwise OR operation with an integer. The symptom observed is that the method returns None for results when it should instead propagate the available mask correctly. The report implies that this was functioning correctly in version 5.2. The keywords extracted are NDDataRef, mask propagation, arithmetic, and bitwise OR, especially in the context of handling masks with None.","{""ranked_list"": [{""file"": ""astropy/nddata/mixins/ndarithmetic.py"", ""justification"": ""This file contains the implementation of operations including multiply, add, subtract, and divide, which are directly used in the arithmetic operations described in the bug report. The _arithmetic_mask function specifically handles mask propagation and is likely where the fault lies.""}, {""file"": ""astropy/nddata/nddata.py"", ""justification"": ""This file contains the NDData class which is used to create the NDDataRef instances as referred to in the bug report. The constructor handles mask initialization which is fundamental to understanding the origin of the mask issue.""}, {""file"": ""astropy/utils/masked/core.py"", ""justification"": ""The masked core may define specifics about how masks are handled by NDData objects in general and hence may provide further insight into the propagation issue.""}, {""file"": ""astropy/nddata/decorators.py"", ""justification"": ""This file may include decorators that affect how methods behave with respect to data validation, error handling, or other function extensions that could indirectly impact mask handling.""}, {""file"": ""astropy/utils/masked/function_helpers.py"", ""justification"": ""Could provide additional context on handling masks which might not be handled explicitly in NDData or its mixins, important for propagation logic.""}]}",['astropy/nddata/mixins/ndarithmetic.py']
astropy__astropy-7746,"The bug report highlights an issue with the function `wcs_pix2world` when empty lists or arrays are passed as inputs. The expected behavior is for this function to handle empty lists gracefully and not raise an error (specifically, an `InconsistentAxisTypesError`). This points to a potential problem in how the method processes input arrays or coordinates, especially in the `_array_converter` helper method and the `_return_list_of_arrays` method, which are involved in input validation and conversion. Keywords extracted from the report include: `WCS`, `transformation`, `empty lists/arrays`, `InconsistentAxisTypesError`. The affected components suggest that the bug might reside within WCS related functionalities, particularly in how they handle invalid inputs.","{""ranked_list"": [{""file"": ""astropy/wcs/wcs.py"", ""justification"": ""This file contains the method `wcs_pix2world`, which is directly mentioned in the bug report as causing issues when empty lists are passed. The method relies on `_array_converter`, which seems to validate and convert the input, making it crucial for understanding the root cause.""}, {""file"": ""astropy/visualization/wcsaxes/transforms.py"", ""justification"": ""This file includes transformations related to WCS. While specific methods like `transform` might be less relevant, this file is still tied to the WCS visualizations and transformations.""}, {""file"": ""astropy/visualization/wcsaxes/core.py"", ""justification"": ""Core functionalities for drawing and handling WCS axes, which might interact with the WCS transformations, making any input or output definitions significant.""}, {""file"": ""astropy/wcs/wcslint.py"", ""justification"": ""While primarily for validation of WCS settings, the `main` function checks files for compliance, possibly offering additional context on how WCS configurations are processed and evaluated.""}, {""file"": ""astropy/visualization/wcsaxes/utils.py"", ""justification"": ""Utility functions for WCS transformations could provide support functions that interact with the main WCS functionality. Although they might not be directly related to the error, ensuring comprehensive coverage in analysis is important.""}, {""file"": ""astropy/wcs/utils.py"", ""justification"": ""Includes utility functions to convert WCS to celestial frames. While they may not directly relate to the error, interactions with WCS could impact the overall system's input handling.""}, {""file"": ""astropy/visualization/wcsaxes/grid_paths.py"", ""justification"": ""Involved in managing plotting aspects of WCS axes, thus indirectly relevant to any visual transformations that involve coordinate systems.""}, {""file"": ""astropy/nddata/utils.py"", ""justification"": ""Though primarily focusing on ndarray utilities, aspects of data handling might indirectly connect with how WCS functions manage inputs.""}]}",['astropy/wcs/wcs.py']
astropy__astropy-6938,"This bug report suggests a potential issue in the `fitsrec.py` file, specifically related to the use of the 'D' character to replace exponents in floating-point numbers. The person reporting the bug suspects that the `replace` method is incorrectly used, as it may not perform in-place modifications on a `chararray`. The report also notes that commenting out the concerned line does not trigger any failing tests, indicating that the functionality described might be inadequately tested or not critical. The relevant keywords extracted include 'D exponents', 'replace', and 'fitsrec.py'.","{""ranked_list"": [{""file"": ""astropy/io/fits/fitsrec.py"", ""justification"": ""This file contains the exact line of code highlighted in the bug report mentioning the 'replace' operation and manipulation of floating point representations. It is directly related to the reported problem.""}, {""file"": ""astropy/io/fits/util.py"", ""justification"": ""The 'util.py' file contains methods related to file operations and includes a function for opening files (`fileobj_open`) that may relate to reading data containing such representations.""}, {""file"": ""astropy/io/fits/card.py"", ""justification"": ""The card.py file handles card operations that could involve formatting and validation of FITS file contents, similar to how the reported bug deals with string replacements for numeric formats.""}, {""file"": ""astropy/io/fits/hdu/base.py"", ""justification"": ""This base class manages the structure of HDUs (Hierarchical Data Units), which are relevant to the fitsrec functionality by providing foundational structures for data representation.""}, {""file"": ""astropy/io/fits/column.py"", ""justification"": ""This file provides functionality related to managing column data in a FITS file. It might interact with or store the data being manipulated in `fitsrec.py`.""}, {""file"": ""astropy/io/fits/hdu/groups.py"", ""justification"": ""This file manages groups of HDUs and may contain methods that deal indirectly with how data is structured and accessed, related to the issues raised in the bug.""}, {""file"": ""astropy/io/fits/hdu/image.py"", ""justification"": ""Though this file was found to project image-related functionalities, understanding its methods could lend insight into broader data handling in FITS files.""}, {""file"": ""astropy/io/fits/diff.py"", ""justification"": ""This file includes functionalities to compare FITS file contents. Misformatted contents due to the reported issue could potentially propagate as differences caught by this module.""}, {""file"": ""astropy/io/fits/hdu/table.py"", ""justification"": ""Handles table structures in FITS files. Since tables can include floating point data, managing replacements would be relevant to the bug.""}, {""file"": ""astropy/io/fits/hdu/compressed.py"", ""justification"": ""Engages with compressed data representations. The handling of types and formats here might link back to the needs presented in the bug report.""}]}",['astropy/io/fits/fitsrec.py']
